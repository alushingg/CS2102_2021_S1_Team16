<!DOCTYPE html>
<html>
    <head>
        <%- include('./components/htmlHead'); %>
        <link rel='stylesheet' href='/css/form.css' />
        <script src="js/togglePassword.js"></script>
        <script src="js/userDataValidation.js"></script>
    </head>

    <body>
        <header>
            <%- include('./components/header'); %>
        </header>

        <div class="spacing"></div>
        <div class="content">
            <form id="addCaretakerForm" method="POST" action="/addcaretaker">
                <h3 id="title">Add New Caretaker</h3>
                <div>
                    <input class="checkbox" type="checkbox" id="existing" name="existing" onclick="exisitng()">
                    <label for="existing">Existing user?</label>
                </div>
                <hr>
                
                <div class="input-group">
                    <p>Username:</p>
                    <input type="text" id="username" name="username" placeholder="Userame" required>
                </div>

                <div id="new-user-section">
                    <div class="input-group">
                        <p>Password: </p>
                        <input type="password" id="password" name="password" placeholder="Password">
                        <div>
                            <input class="checkbox" type="checkbox" onclick="toggleMask()">
                            <label>Show Password</label>
                        </div>
                    </div>
                    <div class="input-group">
                        <p>Name: </p>
                        <input type="text" id="name" name="name" placeholder="Name">
                    </div>
                    <div class="input-group">
                        <p>Phone number: </p>
                        <input type="text" id="phone" name="phone" placeholder="Phone number">
                    </div>
                    <div class="input-group">
                        <p>Area: </p>
                        <input type="text" id="area" name="area" placeholder="Area">
                    </div>
                </div>
                <div class="input-group">
                    <p>Job Type: </p>
                    <select name="type" id="type">
                        <option value="fulltime">Full Time</option>
                        <option value="parttime">Part Time</option>
                    </select>
                </div>
                <hr>
                <div class="input-group">
                    <p>Pet Type: </p>
                    <table>
                        <tr>
                            <td>
                                <label><input class="checkbox" type="checkbox" name="ptype" value="Cat"/> Cat</label>
                            </td>
                            <td>
                                <label><input class="checkbox" type="checkbox" name="ptype" value="Fish"/> Fish</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label><input class="checkbox" type="checkbox" name="ptype" value="Dog"/> Dog</label>
                            </td>
                            <td>
                                <label><input class="checkbox" type="checkbox" name="ptype" value="Tortoise"/> Tortoise</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label><input class="checkbox" type="checkbox" name="ptype" value="Rabbit" /> Rabbit</label>
                            </td>
                            <td>
                                <label><input class="checkbox" type="checkbox" name="ptype" value="Terrapin"/> Terrapin</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label><input class="checkbox" type="checkbox" name="ptype" value="Hamster"/> Hamster</label>
                            </td>
                            <td>
                                <label><input class="checkbox" type="checkbox" name="ptype" value="Frog"/> Frog</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label><input class="checkbox" type="checkbox" name="ptype" value="Bird"/> Bird</label>
                            </td>
                            <td>
                                <label><input class="checkbox" type="checkbox" name="ptype" value="Reptile"/> Reptile</label>
                            </td>
                        </tr>
                        <tr>
                            <td> 
                                <label><input class="checkbox" type="checkbox" name="ptype" value="Guinea Pig"/> Guinea Pig</label>
                            </td>
                            <td>
                                <label><input class="checkbox" type="checkbox" name="ptype" value="Insect"/> Insect</label>
                            </td>
                        </tr>
                    </table>
                </div>
                <button type="submit">Submit</button>
            </form>
        </div>

        <div class="spacing"></div>

        <script>
            window.addEventListener('load', function() {
                var forms = [document.getElementById('addCaretakerForm')];
                var validation = Array.prototype.filter.call(forms, function(form) {
                    form.addEventListener('submit', checkCT, false);
                });
            }, false);

            if ("<%= msg%>" != "") {
                alert('<%= msg%>');
            }

            function exisitng() {
                const checkbox = document.getElementById("existing");
                const newUserSection = document.getElementById("new-user-section");

                console.log(checkbox);
                console.log(newUserSection);

                if (checkbox.checked) {
                    newUserSection.style = "display: none;";
                } else {
                    newUserSection.style = "display: block;";
                }
            }
        </script>

        <footer>
            <%- include('./components/footer'); %>
        </footer>
    </body>
</html>
